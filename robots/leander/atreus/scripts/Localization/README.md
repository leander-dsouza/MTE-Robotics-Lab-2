# Project Description:

As the name suggests, this project was created to localize **atreus**. Here, localization takes place by the use of an Extended Kalman Filter,
two in fact.
The former was created in frame of reference of '/map' and is a combination of wheel odometry, IMU data, and GPS odometry generated by *navsat_transform_node*, while
latter was created in frame of reference of '/odom' and is just a combination of wheel odometry and IMU data.

These two filters are purely independent of each other and are created for global and local use respectively.
The global reference ensures stable but discrete data, whereas the local reference ensures continuous but is prone to drift over time. Moreover the localization node associated with the '/map' frame, outputs filtered GPS waypoints that can be echoed through the topic '/gps/filtered'.

Based on usage, these EKFs can be toggled.

![Screenshot from 2020-03-28 22-17-32](https://user-images.githubusercontent.com/45683974/77828574-5b31ec00-7142-11ea-89af-a9368a007ba5.png)

Above is tf tree linking '/map', '/odom' and '/base_link'.

## Tutorial:

* Launch **atreus**
        
        roslaunch atreus spawn_my_bot.launch

* Launch the localization node:

        roslaunch atreus start_ekf_localization.launch
        
* Finally launch RViz to view the results:

        rosrun rviz rviz -d `rospack find atreus`/rviz/localize.rviz

* Note that:
    
    * Black Arrow - Default Odometry provided by Gazebo
    * Red Arrow   - Noisy Odometry generated by custom script
    * Green Arrow - Odometry provided by the global reference
    * Blue Arrow  - Odometry provided by the local reference
    
**Voil√†!**

<img src="https://user-images.githubusercontent.com/45683974/77830002-82d98200-714b-11ea-92d5-e52f7f92abc0.gif" width="900" height="500">
